var dropFile,formatBytes,handleImage,handleVideo,stateChange,uploadProgress;$(document).ready((function(){$(".button").mousedown((function(e){var t,a,o;t=e.pageX-$(this).offset().left,a=e.pageY-$(this).offset().top,$(".fade",this).css({left:t+"px",top:a+"px"}),setTimeout((o=this,function(){return $(".fade",o).addClass("active")}),1),setTimeout(function(e){return function(){return $(".fade",e).removeClass("active")}}(this),610)}))})),$(document).ready((function(){$("[data-toggle]").each((function(e,t){$(t).click((function(e){$(this).hasClass("active")?($(this).removeClass("active"),$($(this).data("toggle")).removeClass("active animated")):($(this).addClass("active"),$($(this).data("toggle")).addClass("active"),setTimeout(function(){$($(this).data("toggle")).addClass("animated")}.bind(this),200))}))}))})),$(document).ready((function(){$((function(){var e=document.getElementById("mousePoint");e&&($(document).mousemove((function(e){})),$(window).scroll((function(e){})),setTimeout((function(){}),250))}))})),$(document).ready((function(){$((function(){var e;$("[data-call]").click((function(e){var t;e.preventDefault(),(t=$($(this).data("call"))).hasClass("active")||($("body").css("width",$("body").width()+"px").addClass("overlayed"),t.addClass("showed"),setTimeout((function(){if(t.addClass("active"),t.data("onopen")&&window[t.data("onopen")])return window[t.data("onopen")](t)}),100))})),$("[data-dismiss]").click((function(e){var t;e.preventDefault(),t=$($(this).data("dismiss")),$("body").css("width","").removeClass("overlayed"),t.removeClass("active"),setTimeout((function(){if(t.removeClass("showed"),t.data("onclose")&&window[t.data("onclose")])return window[t.data("onclose")](t)}),300)})),e=function(){$(".popup").each((function(e,t){var a;a=$(t),$("body").css("width","").removeClass("overlayed"),a.removeClass("active"),setTimeout((function(){if(a.removeClass("showed"),a.data("onclose")&&window[a.data("onclose")])return window[a.data("onclose")](a)}),300)}))},$(".close-popup").click((function(t){t.preventDefault(),e()})),$(".popup").click((function(t){0===$(t.target).closest(".inner").length&&(t.preventDefault(),e())}))}))})),$(document).ready((function(){$("[data-scrollto]").click((function(e){var t;e.preventDefault(),t=$(".main-header").hasClass("fixed")?$(".main-header").outerHeight():0,$("html,body").animate({scrollTop:$($(this).data("scrollto")).offset().top-t},500)}))})),$(document).ready((function(){$(".button").mousedown((function(e){var t,a,o;t=e.pageX-$(this).offset().left,a=e.pageY-$(this).offset().top,$(".fade",this).css({left:t+"px",top:a+"px"}),setTimeout((o=this,function(){return $(".fade",o).addClass("active")}),1),setTimeout(function(e){return function(){return $(".fade",e).removeClass("active")}}(this),610)}))})),$(document).ready((function(){$("[data-dropdown]").each((function(e,t){$(".anchor",t).click((function(e){e.preventDefault(),$(this).toggleClass("active"),$(this).closest("[data-dropdown]").toggleClass("active")})),$(".close-dropdown",t).click((function(e){$(t).removeClass("active")}))})),$(document).on("click",(function(e){$(e.target).closest("[data-dropdown]").length||$("[data-dropdown]").removeClass("active")}))})),uploadProgress=function(e){var t;t=parseInt(e.loaded/e.total*100),dropZone.text("Загрузка: "+t+"%")},stateChange=function(e){4===e.target.readyState&&(200===e.target.status?dropZone.text("Files uploaded success"):(dropZone.text("Error! Try again"),dropZone.addClass("error")))},dropFile=function(e,t,a){var o;o=a,window.FileReader?(e.ondragover=function(){return $(e).addClass("hover"),!1},e.ondragleave=function(){return $(e).removeClass("hover"),!1},e.ondrop=function(a){var i,s,n,d,l,r,c;for(a.preventDefault(),$(e).removeClass("hover"),s=n=0,d=(c=a.dataTransfer.files).length;n<d;s=++n){if(i=c[s],l=$(e).next("[data-file-name]"),i.size>o)return l.append('<div class="file-item "> <div class="error-caption"> <div class="caption-inside"> Too Large File <div class="image-size error">'+formatBytes(i.size)+"</div> </div> </div> </div>"),!1;if("image"===t&&"image/png"===i.type||"image"===t&&"image/jpeg"===i.type)$(e).removeClass("error").addClass("drop"),$(e).find(".label-lead").html("Loaded success!"),(r=new FileReader).onload=function(e){l.append('<div class="file-item"> <button type="button" class="btn btn-link remove-btn"> <i class="icon icon-rubbish"></i> </button> <figure class="image-cover"><img src="'+e.target.result+'" alt="model"></figure> </div>'),$(window).width()>768&&(l.scrollTop(l.prop("scrollHeight")),$(".scrolled[data-xs-disabled]").perfectScrollbar(),$(".scrolled").perfectScrollbar("update"))},r.readAsDataURL(a.dataTransfer.files[s]);else{if(!("video"===t&&"video/mp4"===i.type||"video"===t&&"video/ogg"===i.type))return $(e).find(".label-lead").html("Please download the file in correct format"),$(e).addClass("error"),!1;l.append('<div class="video-item"> <i class="icon icon-video-camera camera-icon"></i> <div class="video-title">'+i.name+'</div> <div class="video-size">'+formatBytes(i.size)+'</div> <button type="button" class="btn btn-link remove-btn"> <i class="icon icon-rubbish"></i> </button> </div>'),$(e).removeClass("error").addClass("drop"),$(e).find(".label-lead").html("Loaded success!"),$(window).width()>768&&(l.scrollTop(l.prop("scrollHeight")),$(".scrolled[data-xs-disabled]").perfectScrollbar(),$(".scrolled").perfectScrollbar("update"))}}}):$(e).find(".label-lead").html("Click on label area")},$("[data-drop-file]").each((function(e,t){var a,o;o=$(t).data("drop-file"),a=$(t).find("[data-file-size]").data("file-size"),dropFile(t,o,a)})),handleImage=function(e,t){var a,o,i,s,n,d,l;for(n=$(e.target).data("file-size"),o=i=0,s=(l=e.target.files).length;i<s;o=++i)(a=l[o]).size>n?t.append('<div class="file-item "> <div class="error-caption"> <div class="caption-inside"> Too Large File <div class="image-size error">'+formatBytes(a.size)+"</div> </div> </div> </div>"):((d=new FileReader).onload=function(e){t.append('<div class="file-item "> <button type="button" class="btn btn-link remove-btn"> <i class="icon icon-rubbish"></i> </button> <figure class="image-cover"><img src="'+e.target.result+'" alt="model"></figure> </div>'),$(window).width()>768&&(t.scrollTop(t.prop("scrollHeight")),$(".scrolled[data-xs-disabled]").perfectScrollbar(),$(".scrolled").perfectScrollbar("update")),t.prev("[data-drop-file]").addClass("drop")},d.readAsDataURL(e.target.files[o]))},handleVideo=function(e,t){var a,o,i,s,n,d;for(n=$(e.target).data("file-size"),"20",o=i=0,s=(d=e.target.files).length;i<s;o=++i){if((a=d[o]).size>n)return $(e.target).parent(".drop-file").find(".label-lead").html("File too large! Max file size 20 MB"),void $(e.target).parent(".drop-file").addClass("error");$(e.target).parent(".drop-file").removeClass("error").addClass("drop"),$(e.target).parent(".drop-file").find(".label-lead").html("Loaded success!"),t.append('<div class="video-item"> <i class="icon icon-video-camera camera-icon"></i> <div class="video-title">'+a.name+'</div> <div class="video-size">'+formatBytes(a.size)+'</div> <button type="button" class="btn btn-link remove-btn"> <i class="icon icon-rubbish"></i> </button> </div>'),$(window).width()>768&&(t.scrollTop(t.prop("scrollHeight")),$(".scrolled[data-xs-disabled]").perfectScrollbar(),$(".scrolled").perfectScrollbar("update")),t.prev("[data-drop-file]").addClass("drop")}},$("[data-drop-file]").each((function(e,t){var a,o;o=$(t).data("drop-file"),a=$(t).next("[data-file-name]"),$(t).on("input",(function(e){"image"===o?handleImage(e,a):"video"===o&&handleVideo(e,a)}))})),formatBytes=function(e){return e<1024?e+" Bytes":e<1048576?(e/1024).toFixed(3)+" KB":e<1073741824?(e/1048576).toFixed(3)+" MB":(e/1073741824).toFixed(3)+" GB"},$(document).ready((function(){$("[data-toggle]").each((function(e,t){$(t).click((function(e){$(this).hasClass("open")?($(this).removeClass("open"),$($(this).data("toggle")).removeClass("open animated")):($(this).addClass("open"),$($(this).data("toggle")).addClass("open"),setTimeout(function(){$($(this).data("toggle")).addClass("animated")}.bind(this),200))}))}))})),$(document).ready((function(){$((function(){var e=document.getElementById("mousePoint");e&&($(document).mousemove((function(e){})),$(window).scroll((function(e){})),setTimeout((function(){}),250))}))})),$(document).ready((function(){$((function(){var e;$("[data-call]").click((function(e){var t;e.preventDefault(),(t=$($(this).data("call"))).hasClass("active")||($("body").css("width",$("body").width()+"px").addClass("overlayed"),t.addClass("showed"),setTimeout((function(){if(t.addClass("active"),t.data("onopen")&&window[t.data("onopen")])return window[t.data("onopen")](t)}),100))})),$("[data-dismiss]").click((function(e){var t;e.preventDefault(),t=$($(this).data("dismiss")),$("body").css("width","").removeClass("overlayed"),t.removeClass("active"),setTimeout((function(){if(t.removeClass("showed"),t.data("onclose")&&window[t.data("onclose")])return window[t.data("onclose")](t)}),300)})),e=function(){$(".popup").each((function(e,t){var a;a=$(t),$("body").css("width","").removeClass("overlayed"),a.removeClass("active"),setTimeout((function(){if(a.removeClass("showed"),a.data("onclose")&&window[a.data("onclose")])return window[a.data("onclose")](a)}),300)}))},$(".close-popup").click((function(t){t.preventDefault(),e()})),$(".popup").click((function(t){0===$(t.target).closest(".inner").length&&(t.preventDefault(),e())}))}))})),$(document).ready((function(){$("[data-scrollto]").click((function(e){var t;e.preventDefault(),t=$(".main-header").hasClass("fixed")?$(".main-header").outerHeight():0,$("html,body").animate({scrollTop:$($(this).data("scrollto")).offset().top-t},500)}))}));