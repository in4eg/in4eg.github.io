!function(e){function t(t,n,l,i){if(t){var a=t.getAttribute("id")?t.getAttribute("id"):Math.floor(Math.random()*Date.now()),s="";return s+=i&&i.length?'<div class="selecter '+i+'">':'<div class="selecter">',s+='<span class="anchor">'+function(e,t){var n;return e.length&&e.length>0&&[].map.call(e,(function(e,l){t.push({label:e.label,value:e.value,disabled:e.disabled,selected:e.selected,classname:e.classname}),e&&0===l&&(n={title:e.label}),e&&e.selected&&(n={title:e.label})})),n}(t.options,n).title+"</span>",s+='<div class="dropdown">'+function(e,t,n){var l="<ul>";return e.map((function(e,i){l+='<li class="'+(e.disabled?"disabled ":"")+(e.selected?"active":"")+'" data-value="'+e.value+'">'+e.label+(e.disabled?" ":t?'<input type="checkbox" id='+n+"_"+i+" name="+n+"_"+i+"><label for="+n+"_"+i+"></label>":" ")+"</li>"})),l+="</ul>"}(n,l,a)+"</div>",e(s+="</div>")}}function n(e,t){e.removeClass("opened"),t.onClose&&t.onClose(e,t)}e||console.error("Selecter :: jQuery is not defined."),e.fn.selecter=function(l){var i={onOpen:null,onClose:null,onChange:null};i=e.extend(i,l);return this.each((function(l,a){e(a).hide();var s=t(a,[],i.multiple,i.classname);s.on("click",".anchor",(function(t){t.preventDefault(),e(this).parent(".selecter").hasClass("opened")?n(s,i):function(e,t){e.addClass("opened"),t.onOpen&&t.onOpen(e,t)}(s,i)})),e("body").click((function(t){0===e(t.target).closest(s).length&&n(s,i)})),s.on("click","ul > li",(function(t){t.preventDefault(),e(this).hasClass("disabled")?n(s,i):(i.multiple?(e(this).hasClass("active")?(e(this).removeClass("active"),e(this).find('[type="checkbox"]').prop("checked",!1).removeAttr("checked")):(e(this).addClass("active"),e(this).find('[type="checkbox"]').prop("checked",!0).attr("checked","true")),e(this).parent("ul").children(".active").length>0?e(e(this).siblings(".disabled")).removeClass("active"):e(e(this).siblings(".disabled")).addClass("active")):(e(this).addClass("active"),e(this).siblings().removeClass("active")),function(t,n){e(t).find("option").each((function(l,i){e(t).attr("multiple")?e(i).val().toString()!=n.toString()||e(i).attr("selected")?e(i).val().toString()==n.toString()&&e(i).attr("selected")&&e(i).prop("selected",!1).removeAttr("selected"):e(i).prop("selected",!0).attr("selected","true"):(e(i).prop("selected",!1).removeAttr("selected"),e(i).val().toString()==n.toString()&&e(i).prop("selected",!0).attr("selected","true"))})),e(t).children("[selected]").length>0?e(t).find("option[disabled]").prop("selected",!1).removeAttr("selected"):e(t).find("option[disabled]").prop("selected",!0).attr("selected","true")}(a,e(this).data("value")),function(t,l,i,a){!function(e,t,n){t.onChange&&t.onChange(e,t,n)}(t,a,e(t).val());var s=e(t).val();if(1==l?s="yes":0==l&&(s="no"),a&&a.multiple){e(i).find(".anchor").html("");var c=[];if(e(t).children("[selected]").length)if(e(t).children("[selected]").each((function(t,n){c.push(e(n).text().trim())})),1==c.length)e(i).find(".anchor").html(c.toString());else if(e(i).find(".anchor").width()<=300){var o='<span class="count">+'+(c.length-1)+"</span>";e(i).find(".anchor").html(c[0]+""+o)}else if(e(i).find(".anchor").width()>300){let t=c.slice(0,3);o=c.length>3?'<span class="count">+'+(c.length-3)+"</span>":"",e(i).find(".anchor").html(t.toString()+""+o)}}else e(i).find(".anchor").html(s),n(i,a)}(a,e(this).data("value"),s,i))})),s.insertAfter(e(a))})),this}}(jQuery),$(document).ready((function(){$(document).find("select").each((function(e,t){let n=$(t).data();$(t).selecter({multiple:!(!n||!0!==n.multiple),classname:n&&n.classname?n.classname:null,onOpen:function(){},onChange:function(e){!function(e){$(e).attr("id"),filterArray=[],$(e).find("option").each((function(e,t){$(t).attr("selected")&&!$(t).attr("disabled")&&filterArray.push($(t).text().trim())})),console.log(filterArray)}(e)},onClose:function(){}})}))}));